{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"https://fixmyarea-backend.onrender.com/api/issues\";\n\n//add new issue\n\nexport const createIssue = async issueData => {\n  const res = await axios.post(API_URL, issueData);\n  return res.data;\n};\n\n//fetch all issues\n\nexport const getAllIssues = async () => {\n  const res = await axios.get(API_URL);\n  return res.data;\n};\nexport const deleteSingleIssue = async id => {\n  try {\n    const response = await fetch(`${API_URL}/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      const errorText = await response.text(); // Catch HTML error response\n      throw new Error(`Error: ${response.status} - ${errorText}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error deleting issue:', error);\n    throw error;\n  }\n};\nexport const updateIssue = async (id, updatedData) => {\n  const response = await axios.put(`${API_URL}/${id}`, updatedData);\n  return response.data;\n};\n\n// export const deleteSingleIssue = async (id) => {\n//   const res = await fetch(`http://localhost:5000/api/issues/${id}`, {\n//     method: \"DELETE\",\n//   });\n//   const data = await res.json();\n//   return data;\n// };","map":{"version":3,"names":["axios","API_URL","createIssue","issueData","res","post","data","getAllIssues","get","deleteSingleIssue","id","response","fetch","method","ok","errorText","text","Error","status","json","error","console","updateIssue","updatedData","put"],"sources":["/Users/mac/FreedomProjects/fixmyarea/client/src/Api/issueService.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"https://fixmyarea-backend.onrender.com/api/issues\";\n\n\n\n//add new issue\n\nexport const createIssue = async (issueData) => {\n    const res = await axios.post(API_URL, issueData);\n  return res.data;\n\n};\n\n//fetch all issues\n\nexport const getAllIssues = async () => {\n  const res = await axios.get(API_URL);\n  return res.data;\n};\n\n\nexport const deleteSingleIssue = async (id) => {\n  try {\n    const response = await fetch(`${API_URL}/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text(); // Catch HTML error response\n      throw new Error(`Error: ${response.status} - ${errorText}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error deleting issue:', error);\n    throw error;\n  }\n};\n\nexport const updateIssue = async (id, updatedData) => {\n  const response = await axios.put(`${API_URL}/${id}`, updatedData);\n  return response.data;\n};\n\n\n\n// export const deleteSingleIssue = async (id) => {\n//   const res = await fetch(`http://localhost:5000/api/issues/${id}`, {\n//     method: \"DELETE\",\n//   });\n//   const data = await res.json();\n//   return data;\n// };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,mDAAmD;;AAInE;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAOC,SAAS,IAAK;EAC5C,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAACJ,OAAO,EAAEE,SAAS,CAAC;EAClD,OAAOC,GAAG,CAACE,IAAI;AAEjB,CAAC;;AAED;;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,MAAMH,GAAG,GAAG,MAAMJ,KAAK,CAACQ,GAAG,CAACP,OAAO,CAAC;EACpC,OAAOG,GAAG,CAACE,IAAI;AACjB,CAAC;AAGD,OAAO,MAAMG,iBAAiB,GAAG,MAAOC,EAAE,IAAK;EAC7C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGX,OAAO,IAAIS,EAAE,EAAE,EAAE;MAC/CG,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC;MACzC,MAAM,IAAIC,KAAK,CAAC,UAAUN,QAAQ,CAACO,MAAM,MAAMH,SAAS,EAAE,CAAC;IAC7D;IAEA,OAAO,MAAMJ,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,WAAW,GAAG,MAAAA,CAAOZ,EAAE,EAAEa,WAAW,KAAK;EACpD,MAAMZ,QAAQ,GAAG,MAAMX,KAAK,CAACwB,GAAG,CAAC,GAAGvB,OAAO,IAAIS,EAAE,EAAE,EAAEa,WAAW,CAAC;EACjE,OAAOZ,QAAQ,CAACL,IAAI;AACtB,CAAC;;AAID;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}